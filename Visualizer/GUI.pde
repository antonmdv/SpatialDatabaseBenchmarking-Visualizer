//Generated by GuiGenie - Copyright (c) 2004 Mario Awad.
//Home Page http://guigenie.cjb.net - Check often for new versions!

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;

public class GUI extends JPanel {
    private JButton visGen;
    private JTextField windowSize;
    private JTextField databaseSize;
    private JLabel windowLabel;
    private JLabel dataLabel;
    private JLabel wkt1Label;
    private JLabel wkt2Label;
    private JLabel wkt3Label;
    private JComboBox wkt1Select;
    private JComboBox wkt2Select;
    private JComboBox wkt3Select;

    public GUI() {
        //construct preComponents
        String[] wkt1SelectItems = {"Points", "Line Strings", "Conic Spiral", "Midpoint Displacement", "Random Walk", "Polygons", "Quick Star Polygons", "Squares", "Triangles"};
        String[] wkt2SelectItems = {"Points", "Line Strings", "Conic Spiral", "Midpoint Displacement", "Random Walk", "Polygons", "Quick Star Polygons", "Squares", "Triangles"};
        String[] wkt3SelectItems = {"Points", "Line Strings", "Conic Spiral", "Midpoint Displacement", "Random Walk", "Polygons", "Quick Star Polygons", "Squares", "Triangles"};

        //construct components
        visGen = new JButton ("Generate");
        windowSize = new JTextField (5);
        databaseSize = new JTextField (5);
        windowLabel = new JLabel ("Window SIze");
        dataLabel = new JLabel ("Database Size");
        wkt1Label = new JLabel ("WKT 1");
        wkt2Label = new JLabel ("WKT 2");
        wkt3Label = new JLabel ("WKT 3");
        wkt1Select = new JComboBox (wkt1SelectItems);
        wkt2Select = new JComboBox (wkt2SelectItems);
        wkt3Select = new JComboBox (wkt3SelectItems);
        
        //Action Listeners
        visGen.addActionListener(new GenerateClick());
        windowSize.addActionListener(new WindowText());
        databaseSize.addActionListener(new DataText());
        wkt1Select.addItemListener(new WKT1Item());
        wkt2Select.addItemListener(new WKT2Item());
        wkt3Select.addItemListener(new WKT3Item());
        
        
        //adjust size and set layout
        setPreferredSize (new Dimension (268, 309));
        setLayout (null);

        //add components
        add (visGen);
        add (windowSize);
        add (databaseSize);
        add (windowLabel);
        add (dataLabel);
        add (wkt1Label);
        add (wkt2Label);
        add (wkt3Label);
        add (wkt1Select);
        add (wkt2Select);
        add (wkt3Select);

        //set component bounds (only needed by Absolute Positioning)
        visGen.setBounds (85, 255, 100, 20);
        windowSize.setBounds (10, 50, 100, 25);
        databaseSize.setBounds (155, 50, 100, 25);
        windowLabel.setBounds (10, 25, 100, 25);
        dataLabel.setBounds (155, 25, 100, 25);
        wkt1Label.setBounds (115, 85, 100, 25);
        wkt2Label.setBounds (110, 135, 100, 25);
        wkt3Label.setBounds (115, 185, 100, 25);
        wkt1Select.setBounds (85, 110, 100, 25);
        wkt2Select.setBounds (85, 160, 100, 25);
        wkt3Select.setBounds (85, 205, 100, 25);
    }


    //public static void main (String[] args) {
    //    JFrame frame = new JFrame ("vis gui");
    //    frame.setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);
    //    frame.getContentPane().add (new vis gui());
    //    frame.pack();
    //    frame.setVisible (true);
    //}
}

//On click, reload new settings, redraw canvas
class GenerateClick implements ActionListener
{
  public void actionPerformed(ActionEvent e)
  {
    JButton b = (JButton)e.getSource();
    loadWKT();
    surface.setSize(PREVIEW_SIZE, PREVIEW_SIZE);
    draw();
  }
}

//changes which WKT to be loaded
class WKT1Item implements ItemListener
{
  public void itemStateChanged(ItemEvent e)
  {
    JComboBox source = (JComboBox)e.getSource();
    int WKTindex = (int)source.getSelectedIndex();
    WKT1 = findWKT(WKTindex);
  }
}

//changes which WKT to be loaded
class WKT2Item implements ItemListener
{
  public void itemStateChanged(ItemEvent e)
  {
    JComboBox source = (JComboBox)e.getSource();
    int WKTindex = (int)source.getSelectedIndex();
    WKT2 = findWKT(WKTindex);
  }
}

//changes which WKT to be loaded
class WKT3Item implements ItemListener
{
  public void itemStateChanged(ItemEvent e)
  {
    JComboBox source = (JComboBox)e.getSource();
    int WKTindex = (int)source.getSelectedIndex();
    WKT3 = findWKT(WKTindex);
  }
}

//Changes size of window ##NOT WORKING
class WindowText implements ActionListener
{
  public void actionPerformed(ActionEvent e)
  {
    JTextField source = (JTextField)e.getSource();
    PREVIEW_SIZE = Integer.parseInt(source.getText());
    println(PREVIEW_SIZE);
  }
}

//Changes default size of database canvas ##NOT USED
class DataText implements ActionListener
{
  public void actionPerformed(ActionEvent e)
  {
    JTextField source = (JTextField)e.getSource();
    CANVAS_SIZE = Integer.parseInt(source.getText());
  }
}

//Combobox helper to find which database
String findWKT(int index){
  String WKT = "";
  switch (index){
    case 0:
      WKT = "data.points.txt";
      break;
    case 1:
      WKT = "data.linestrings.txt";
      break;
    case 2:
      WKT = "data.conicSpiral.txt";
      break;
    case 3:
      WKT = "data.midPointDisplacement.txt";
      break;
    case 4:
      WKT = "data.randomWalk.txt";
      break;
    case 5:
      WKT = "data.polygons.txt";
      break;
    case 6:
      WKT = "data.Quick-StarPolygons.txt";
      break;
    case 7:
      WKT = "data.squares.txt";
      break;
    case 8:
      WKT = "data.triangles.txt";
      break;
  }
  return WKT;
}